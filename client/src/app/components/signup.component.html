<div class="container">
  <div class="row">
    <div class="center-form panel">
      <div class="panel-body">
        <h2 class="text-center">Sign up</h2>
        <form class="col-lg-12" [formGroup]="form" (ngSubmit)="signup(form.value)">
            <div class="form-group has-feedback"
                 [ngClass]="{'has-error':fh.hasError(form, 'username')}"
            >
                <div class="alert alert-danger" *ngIf="fh.hasError(form, 'username')">Username must be at least 3 characters long.</div>
                <input type="text"
                       class="form-control input-lg"
                       id="username"
                       name="username"
                       placeholder="Username"
                       [formControl]="form.controls['username']"
                >
                <span class="ion-person form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback"
                 [ngClass]="{'has-error':fh.hasError(form, 'email')}"
            >
                <div class="alert alert-danger" *ngIf="fh.hasError(form, 'email')">Please provide a valid E-Mail.</div>
                <input type="text"
                       class="form-control input-lg"
                       id="email"
                       name="email"
                       placeholder="E-Mail"
                       [formControl]="form.controls['email']"
                >
                <span class="ion-email form-control-feedback"></span>
            </div>
            <div [formGroup]="form.controls['password-group']">
                <div class="form-group has-feedback"
                     [ngClass]="{'has-error':fh.hasError(form, 'password-group')}"
                >
                    <div class="alert alert-danger" *ngIf="fh.hasError(form, 'password-group', 'password')">Password must be at least 6 characters long.</div>
                    <input type="password"
                           class="form-control input-lg"
                           id="pwd"
                           name="password"
                           placeholder="Password"
                           [formControl]="fh.getControl(form, 'password-group', 'password')"
                    >
                    <span class="ion-key form-control-feedback"></span>
                </div>
                <div class="form-group has-feedback"
                     [ngClass]="{'has-error':fh.hasError(form, 'password-group', 'confirm-password')}"
                >
                    <div class="alert alert-danger" *ngIf="fh.hasError(form, 'password-group')">Password confirmation does not match the password.</div>
                    <input type="password"
                           class="form-control input-lg"
                           id="confirm-pwd"
                           name="confirm-password"
                           placeholder="Confirm Password"
                           [formControl]="fh.getControl(form, 'password-group', 'confirm-password')"
                    >
                    <span class="ion-key form-control-feedback"></span>
                </div>
            </div>
            <p class="text-center text-muted"><small>By clicking on Sign up, you agree to <a href="#">terms & conditions</a> and <a href="#">privacy policy</a></small></p>
            <button type="submit" class="btn btn-lg btn-block btn-primary" [disabled]="!form.valid">Submit</button>
            <br />
            <p class="text-center text-muted">Already have an account? <a [routerLink]="'/login'">Log in now</a>
        </form>
      </div>
    </div>
  </div>
</div>
